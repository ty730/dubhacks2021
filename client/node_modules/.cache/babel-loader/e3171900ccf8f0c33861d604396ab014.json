{"ast":null,"code":"var _jsxFileName = \"/Users/tylerwong/Desktop/dubhacks2021/src/Components/Courses.js\";\nimport './../App.css';\nimport React, { Component, useEffect } from 'react';\nimport ScaleLoader from \"react-spinners/ScaleLoader\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Courses extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      foundCourse: {\n        num: \"\",\n        name: \"\"\n      },\n      courseList: null,\n      courseDescription: \"\",\n      fetched: false\n    };\n  }\n\n  componentDidMount() {\n    this.wrapper();\n  }\n\n  wrapper() {\n    axios.get(\"/api/list\").then(result => this.setState({ ...this.state.foundCourse,\n      courseList: result,\n      ...this.state.courseDescription,\n      ...this.state.fetched\n    }, this.parseCourseList));\n    axios.post(\"/api/course_desc\", {\n      course: this.props.course\n    }).then(response => {\n      this.setState({\n        courseDescription: response.data\n      });\n    });\n  }\n\n  parseCourseList() {\n    let searched = this.props.course;\n    let courseArr = this.state.courseList.data;\n\n    for (let i = 0; i < courseArr.length; i++) {\n      let num = courseArr[i].course.num;\n      let courseNum = num.split(/(\\s+)/).filter(e => e.trim().length > 0).join(\" \");\n\n      if (courseNum === searched) {\n        this.setState({\n          foundCourse: courseArr[i].course,\n          ...this.state.courseList,\n          ...this.state.courseDescription,\n          fetched: true\n        });\n        console.log(courseArr[i]);\n      }\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!equal(this.props.course, prevProps.course)) // Check if it's a new user, you can also use some unique property, like the ID  (this.props.user.id !== prevProps.user.id)\n      {\n        this.wrapper();\n      }\n  }\n\n  render() {\n    let main;\n\n    if (this.state.fetched) {\n      main = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"courses\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [this.state.foundCourse.num, \": \", this.state.foundCourse.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: this.state.courseDescription\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 14\n      }, this);\n    } else {\n      main = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          height: '100px'\n        },\n        children: /*#__PURE__*/_jsxDEV(ScaleLoader, {\n          color: \"#607D8B\",\n          loading: !this.state.fetched,\n          size: 150\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: main\n    }, this.props.course, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Courses;","map":{"version":3,"sources":["/Users/tylerwong/Desktop/dubhacks2021/src/Components/Courses.js"],"names":["React","Component","useEffect","ScaleLoader","axios","Courses","constructor","props","state","foundCourse","num","name","courseList","courseDescription","fetched","componentDidMount","wrapper","get","then","result","setState","parseCourseList","post","course","response","data","searched","courseArr","i","length","courseNum","split","filter","e","trim","join","console","log","componentDidUpdate","prevProps","equal","render","main","display","justifyContent","alignItems","height"],"mappings":"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","sourcesContent":["import './../App.css';\nimport React, { Component, useEffect } from 'react';\nimport ScaleLoader from \"react-spinners/ScaleLoader\";\nimport axios from 'axios';\n\nclass Courses extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        foundCourse: {num: \"\", name: \"\"},\n        courseList: null,\n        courseDescription: \"\",\n        fetched: false\n    };\n  }\n\n  componentDidMount() {\n    this.wrapper();\n  }\n\n  wrapper() {\n    axios.get(\"/api/list\").then((result) => this.setState({ ...this.state.foundCourse, courseList: result, ...this.state.courseDescription, ...this.state.fetched }, this.parseCourseList));\n    axios.post(\"/api/course_desc\", {course: this.props.course}).then((response) => {\n      this.setState({courseDescription: response.data});\n    });\n  }\n\n  parseCourseList() {\n      let searched = this.props.course;\n      let courseArr = this.state.courseList.data;\n      for (let i = 0; i < courseArr.length; i++) {\n\n          let num = courseArr[i].course.num;\n          let courseNum = num.split(/(\\s+)/).filter( e => e.trim().length > 0).join(\" \");\n          if (courseNum === searched) {\n              this.setState({ foundCourse: courseArr[i].course, ...this.state.courseList, ...this.state.courseDescription, fetched: true });\n              console.log(courseArr[i]);\n          }\n      }\n  }\n\n  componentDidUpdate(prevProps) {\n    if(!equal(this.props.course, prevProps.course)) // Check if it's a new user, you can also use some unique property, like the ID  (this.props.user.id !== prevProps.user.id)\n    {\n      this.wrapper();\n    }\n  } \n\n  render() {\n    let main;\n    if (this.state.fetched) {\n      main = <div className=\"courses\">\n          <h1 >{ this.state.foundCourse.num}: { this.state.foundCourse.name }</h1>\n          <p>{ this.state.courseDescription }</p>\n      </div>\n    } else {\n      main = <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100px'}}>\n      <ScaleLoader color={\"#607D8B\"} loading={!this.state.fetched} size={150} />\n    </div>\n    }\n    return (\n      <div key={this.props.course}>{main}</div>\n    );\n  }\n}\n\nexport default Courses;"]},"metadata":{},"sourceType":"module"}